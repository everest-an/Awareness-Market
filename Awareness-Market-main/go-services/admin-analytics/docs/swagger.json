{
    "swagger": "2.0",
    "info": {
        "description": "Admin analytics and monitoring service for Awareness Market",
        "title": "Admin Analytics API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8082",
    "basePath": "/",
    "paths": {
        "/api/v1/analytics/stats": {
            "get": {
                "description": "Get aggregated API usage statistics for admin dashboard",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Analytics"
                ],
                "summary": "Get API usage statistics",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.APIUsageStats"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/analytics/timeline": {
            "get": {
                "description": "Get daily API usage timeline for the past 30 days",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Analytics"
                ],
                "summary": "Get usage timeline",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 30,
                        "description": "Number of days",
                        "name": "days",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.UsageTimelinePoint"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/analytics/top-users": {
            "get": {
                "description": "Get list of users with highest API usage",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Analytics"
                ],
                "summary": "Get top users by API usage",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "Number of users to return",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.TopUser"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/api-keys": {
            "get": {
                "description": "Get list of all API keys with usage information (admin only)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "API Keys"
                ],
                "summary": "Get all API keys",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.APIKeyInfo"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/health/services": {
            "get": {
                "description": "Get health status of all microservices",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "Get microservices health status",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.ServiceHealth"
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "models.APIKeyInfo": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "expires_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "key_prefix": {
                    "type": "string"
                },
                "last_used_at": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "request_count": {
                    "type": "integer"
                },
                "user_id": {
                    "type": "integer"
                },
                "user_name": {
                    "type": "string"
                }
            }
        },
        "models.APIUsageStats": {
            "type": "object",
            "properties": {
                "avg_response_time": {
                    "type": "number"
                },
                "error_rate": {
                    "type": "number"
                },
                "requests_today": {
                    "type": "integer"
                },
                "total_requests": {
                    "type": "integer"
                },
                "total_users": {
                    "type": "integer"
                }
            }
        },
        "models.ServiceHealth": {
            "type": "object",
            "properties": {
                "last_check": {
                    "type": "string"
                },
                "port": {
                    "type": "integer"
                },
                "service_name": {
                    "type": "string"
                },
                "status": {
                    "description": "\"running\", \"stopped\", \"error\"",
                    "type": "string"
                },
                "uptime": {
                    "type": "string"
                }
            }
        },
        "models.TopUser": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "last_active": {
                    "type": "string"
                },
                "request_count": {
                    "type": "integer"
                },
                "user_id": {
                    "type": "integer"
                },
                "user_name": {
                    "type": "string"
                }
            }
        },
        "models.UsageTimelinePoint": {
            "type": "object",
            "properties": {
                "date": {
                    "type": "string"
                },
                "errors": {
                    "type": "integer"
                },
                "requests": {
                    "type": "integer"
                }
            }
        }
    }
}